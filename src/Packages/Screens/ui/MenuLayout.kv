#:kivy 1.0.9

<MenuLayout>:
    id: MenuDataLayout
    orientation: 'lr-tb'
    size_hint: app.Configuration_DB.GetElementValue('MenuLayoutSizeHint') 
    padding: app.Configuration_DB.GetElementValue('MenuLayoutPadding') 
    spacing: app.Configuration_DB.GetElementValue('MenuLayoutSpacing')
    
    canvas:
        Color:
            rgba: app.Configuration_DB.GetElementValue('CanvasBackgroundColor') 
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [(app.Configuration_DB.GetElementValue('MenuLayoutCanvasRadius'), app.Configuration_DB.GetElementValue('MenuLayoutCanvasRadius'))] *4

    # Profile box
    BoxLayout:
        id: ProfileBoxLayout
        orientation: 'vertical'
        spacing: "10dp"
        size_hint: app.Configuration_DB.GetElementValue('ProfileBoxLayoutSizeHint')

        Image:
            id: ProfilePicture
            size_hint: 1, 0.5
            nocache: True
            source: './images/profile/anonymus.png'
        
        Label:
            id: UserName
            size_hint: 1, 0.2
            text: 'Pasquale Buonocore'
            halign: 'center'
            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')

        GridLayout:
            size_hint: 1, 0.3
            rows: 1
            cols: 2

            # Month Year selectors
            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.85, 1
                spacing: "5dp"

                # MonthSelectorBoxLayout_father
                BoxLayout:
                    id: MonthSelectorBoxLayout_father
                    orientation: 'horizontal'
                    padding: ["15dp", "0dp", "15dp", "0dp"]


                    BoxLayout:
                        id: MonthSelectorBoxLayout_son
                        orientation: 'horizontal'

                        Button:
                            id: MonthSelection_MinusBtn
                            size_hint: 0.15, 1
                            background_color: app.Configuration_DB.GetElementValue('TransparentBackgroundColor')
                            on_release: root.Btn_Month('-')
                            canvas.before:
                                Color:
                                    rgba: app.Configuration_DB.GetElementValue('WindowBackgroundColor')
                                RoundedRectangle:
                                    pos: self.pos
                                    size: self.size
                            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')
                            text: "<"
                        
                        Label:
                            id: MonthStringValue
                            size_hint: 0.7, 1
                            text: root.SelectedMonth
                            halign: 'center'
                            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')

                        Button:
                            id: MonthSelection_PlusBtn
                            size_hint: 0.15, 1
                            background_color: app.Configuration_DB.GetElementValue('TransparentBackgroundColor') 
                            on_release: root.Btn_Month('+')
                            canvas.before:
                                Color:
                                    rgba: app.Configuration_DB.GetElementValue('WindowBackgroundColor')
                                RoundedRectangle:
                                    pos: self.pos
                                    size: self.size
                            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')
                            text: ">"
                # YearSelectorBoxLayout_father
                BoxLayout:
                    id: YearSelectorBoxLayout_father
                    orientation: 'horizontal'
                    padding: ["15dp", "0dp", "15dp", "0dp"]

                    BoxLayout:
                        id: YearSelectorBoxLayout_son
                        orientation: 'horizontal'

                        Button:
                            id: YearSelection_MinusBtn
                            size_hint: 0.15, 1
                            background_color: app.Configuration_DB.GetElementValue('TransparentBackgroundColor')
                            on_release: root.Btn_Year('-')
                            canvas.before:
                                Color:
                                    rgba: app.Configuration_DB.GetElementValue('WindowBackgroundColor')
                                RoundedRectangle:
                                    pos: self.pos
                                    size: self.size
                            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')
                            text: "<"
                        
                        Label:
                            id: YearStringValue
                            size_hint: 0.7, 1
                            text: root.SelectedYear
                            halign: 'center'
                            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')

                        Button:
                            id: YearSelection_PlusBtn
                            size_hint: 0.15, 1
                            background_color: app.Configuration_DB.GetElementValue('TransparentBackgroundColor')
                            on_release: root.Btn_Year('+')
                            canvas.before:
                                Color:
                                    rgba: app.Configuration_DB.GetElementValue('WindowBackgroundColor')
                                RoundedRectangle:
                                    pos: self.pos
                                    size: self.size
                            font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                            font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')
                            text: ">"
            
            # Load month button
            BoxLayout:
                size_hint: 0.15, 1
                padding: ["0dp","15dp","10dp","15dp"]
                
                Button:
                    background_color: app.Configuration_DB.GetElementValue('TransparentBackgroundColor') 
                    font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                    font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')
                    on_release: root.UpdateAppToSelectedMonthYear()
                    canvas.before:
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            source: './images/button/ReloadMonth.png'
    # Space padding
    BoxLayout:
        size_hint: app.Configuration_DB.GetElementValue('ProfilePaddingSizeHint') 
        canvas.before:
            Color:
                rgba: app.Configuration_DB.GetElementValue('WindowBackgroundColor') 
            RoundedRectangle:
                pos: self.pos
                size: self.size

    # Menu button box
    GridLayout:
        id: MenuListOfButton
        cols: 2
        rows: 5
        size_hint: app.Configuration_DB.GetElementValue('MenuButtonBoxLayoutSizeHint')
        padding: ["15dp","0dp","15dp","0dp"]
        spacing: "15dp" 

        # Dashboard Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Dashboard_btn
                on_release: self.move_screen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["DashboardScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/dashboard.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Dashboard'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')
            
        # Transaction Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Transaction_btn
                on_release: self.move_screen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["TransactionScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/transaction.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Transaction'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')

        # ETF - ETC Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: EtfEtc_btn
                on_release: self.move_PortfolioScreen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["ETFETCScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/etf - etc.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Etf - Etc'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')
        
        # Stocks Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Stocks_btn
                on_release: self.move_PortfolioScreen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["StocksScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/stocks.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Stocks'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')
        
        # Bonds Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Bonds_btn
                on_release: self.move_PortfolioScreen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["BondScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/bonds.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Bonds'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')

        # Commodities Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Commodities_btn
                on_release: self.move_PortfolioScreen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["CommodityScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/commodities.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Commodities'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')
        
        # Crypto Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Crypto_btn
                on_release: self.move_PortfolioScreen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["CryptoScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/crypto.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Crypto'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')

        # Statistics Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Statistics_btn
                on_release: self.move_screen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["StatisticsScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/statistics.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Statistics'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')
        
        # Settings Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Settings_btn
                on_release: self.move_screen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["SettingScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/settings.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Settings'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')

        # Credits Button
        RelativeLayout:
            CustomMenuSquareButton:
                id: Credits_btn
                on_release: self.move_screen(app, app.Configuration_DB.GetElementValue('ScreenNameDictionary')["CreditScreenName"])

            BoxLayout:
                orientation: 'vertical'
                padding: ["0dp","10dp","0dp","10dp"]
                spacing: "10dp"

                BoxLayout:
                    size_hint: 1, 0.6

                    Image:
                        pos: self.pos
                        size: self.size
                        source: 'images/button/credits.png'

                BoxLayout:
                    id: OctopusPictureLabel
                    size_hint: 1, 0.4

                    Label:
                        id: ButtonLabel
                        text: 'Credits'
                        halign: 'center'
                        font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                        font_size: app.Configuration_DB.GetElementValue('LeftMenuButtonFontSize')



    # Space padding
    BoxLayout:
        size_hint: app.Configuration_DB.GetElementValue('ProfilePaddingSizeHint') 
        canvas.before:
            Color:
                rgba: app.Configuration_DB.GetElementValue('WindowBackgroundColor') 
            RoundedRectangle:
                pos: self.pos
                size: self.size

    # App infos and name
    BoxLayout:
        size_hint: app.Configuration_DB.GetElementValue('AppProfileBoxLayoutSizeHint')
        orientation: 'horizontal'

        BoxLayout:
            id: OctopusPicture
            size_hint: 0.4, 0.5
            pos_hint: {'y': 0.55}

            Image:
                pos: self.pos
                size: self.size
                source: './images/button/OctopusFinancePurple.png'

        BoxLayout:
            id: OctopusPictureLabel
            size_hint: 0.6, 0.5
            pos_hint: {'y': 0.55}

            Label:
                id: AppName
                text: 'Octopus Finance'
                halign: 'center'
                font_name: app.Configuration_DB.GetElementValue('ProfileNameFontName')
                font_size: app.Configuration_DB.GetElementValue('ProfileNameFontSize')
        